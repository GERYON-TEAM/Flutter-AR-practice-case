# Техническое задание на разработку приложения на Flutter с поддержкой AR и отображением контента из документа в HSML-like формате

## Введение

Цель данного технического задания — определить требования для разработки приложения на Flutter, которое принимает документ в формате, подобном HSML (Hyper Scene Markup Language) и отображает AR контент на сцену. Приложение должно поддерживать следующие режимы AR: по изображению, в пространстве и по гео координатам. Поддерживаемые типы контента включают изображение, видео и 3D модели в формате glb.

## Требования к функционалу

### Входной формат

Приложение должно принимать документы в формате, подобном HSML, содержащие информацию о сценах и AR контенте. Ниже приведен структуры такого документа, который может быть изменен исполнителем в целях оптимизации задания:
```xml
<scene>
  <mode type="image">
    <target src="path_to_image" />
    <content type="image" src="path_to_ar_image" />
  </mode>
  <mode type="space">
    <content type="video" src="path_to_video" />
  </mode>
  <mode type="geo">
    <location latitude="xx.xxxx" longitude="yy.yyyy" />
    <content type="model" src="path_to_model.glb" />
  </mode>
</scene>
```

### Режимы AR

1. **AR по изображению**:
    - Распознавание изображений с использованием камеры.
    - Наложение AR контента на распознанное изображение.

2. **AR в пространстве**:
    - Отображение контента в произвольной точке пространства, распознанной с помощью камеры (горизонтальные и вертикальные поверхности).

3. **AR по гео координатам**:
    - Отображение контента на основе GPS координат устройства.
    - Поддержка контента, отображаемого в зависимости от текущего местоположения пользователя.

### Типы контента

1. **Изображение**:
    - Поддержка форматов PNG, JPEG.
    - Отображение статичных изображений в AR сцене.

2. **Видео**:
    - Поддержка форматов MP4.
    - Воспроизведение видео в AR сцене.

3. **3D модели**:
    - Поддержка формата glb.
    - Отображение и воспроизведение анимаций 3D моделей в AR сцене.

## Технические детали

### Предлагаемые технологии

- **Flutter** — основной фреймворк для разработки приложения.
- **ARCore** — для поддержки AR на Android.
- **ARKit** — для поддержки AR на iOS.
- **packages/ar_flutter_plugin** — плагин для интеграции ARCore и ARKit с Flutter.
- **packages/flutter_svg** — для обработки изображений.
- **packages/video_player** — для воспроизведения видео.

### Основные модули

1. **Модуль загрузки HSML документа**:
    - Парсинг HSML документа.
    - Загрузка и хранение данных о сценах и контенте.

2. **Модуль инициализации AR**:
    - Настройка и инициализация AR-сессии.
    - Проверка поддерживаемости AR на устройстве.

3. **Модуль отображения AR контента**:
    - Отображение контента в соответствии с режимом AR.
    - Управление положением и поведением контента в сцене.

4. **Модуль взаимодействия с пользователем**:
    - Обработка жестов пользователя (нажатия, масштабирование, вращение).
    - Управление состоянием контента в ответ на действия пользователя.

### API и зависимости

- **ar_flutter_plugin**:
    - Взаимодействие с ARCore и ARKit.
    - API для работы с 3D объектами и поверхностями.
- **flutter_svg**:
    - Загрузка и отображение SVG изображений.
- **video_player**:
    - Воспроизведение видео контента.

## Предполагаемая документация

- Описание установки и настройки окружения для разработки.
- Инструкции по сборке и развертыванию приложения.
- Документация кода и комментарии для разработчиков.

## Оценка задания

Данное задание будет оцениваться на основании полноты его исполнения. Необходимый минимум - отображение изображения и видео в рамках AR сцены базовых режимов (по изображению и в пространстве) на основе какой-либо структуры данных, получаемой по API. 
